(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{35:function(e,t,a){e.exports=a(63)},40:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(31),i=a.n(o),c=(a(40),a(2)),s=a(3),l=a(6),u=a(5),d=a(7),m=a(12),p=a(14),h="/movie-list/",v="".concat(h,"search"),f="".concat(h,"movie/:id"),b=function(e){return"".concat(h,"movie/").concat(e)},g=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).input=r.a.createRef(),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=new URLSearchParams(this.props.location.search).get("q");e&&(this.input.current.value=decodeURI(e))}},{key:"onSubmit",value:function(e){var t;e.preventDefault(),this.props.history.push((t=this.input.current.value,encodeURI("".concat(h,"search?q=").concat(t))))}},{key:"render",value:function(){return r.a.createElement("nav",{className:"w-full fixed top-0 left-0 p-6 flex items-center bg-black text-white"},r.a.createElement("div",{className:""},r.a.createElement(m.b,{to:"/movie-list/"},"MovieList")),r.a.createElement("form",{className:"flex-1 pl-6",onSubmit:this.onSubmit.bind(this)},r.a.createElement("input",{type:"text",ref:this.input,className:"shadow appearance-none border rounded-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"Search"})))}}]),t}(n.Component),y=Object(p.e)(g),x=a(4),E=a.n(x),k=a(13),j=a(34),O=a.n(j).a.create({baseURL:"http://18.222.255.211"}),w=new(function(){function e(){Object(c.a)(this,e)}return Object(s.a)(e,[{key:"listPopular",value:function(){var e=Object(k.a)(E.a.mark(function e(){var t,a,n=arguments;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:1,e.prev=1,e.next=4,O.get("/?page=".concat(t));case 4:if((a=e.sent).data.status){e.next=7;break}return e.abrupt("return",null);case 7:return e.abrupt("return",a.data.payload);case 10:e.prev=10,e.t0=e.catch(1),console.error("Error listing movies",e.t0);case 13:return e.abrupt("return",null);case 14:case"end":return e.stop()}},e,null,[[1,10]])}));return function(){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=Object(k.a)(E.a.mark(function e(t){var a,n,r=arguments;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>1&&void 0!==r[1]?r[1]:1,e.prev=1,e.next=4,O.get("/search?q=".concat(t,"&page=").concat(a));case 4:if((n=e.sent).data.status){e.next=7;break}return e.abrupt("return",null);case 7:return e.abrupt("return",n.data.payload);case 10:e.prev=10,e.t0=e.catch(1),console.error("Error listing movies",e.t0);case 13:return e.abrupt("return",null);case 14:case"end":return e.stop()}},e,null,[[1,10]])}));return function(t){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=Object(k.a)(E.a.mark(function e(t){var a;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("/get/".concat(t));case 3:if((a=e.sent).data.status){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",a.data.payload);case 9:e.prev=9,e.t0=e.catch(0),console.error("Error getting movies",e.t0);case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}()}]),e}()),N=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.movie,t=null;return e.image&&(t=r.a.createElement("div",{className:"rounded-t overflow-hidden"},r.a.createElement(m.b,{to:b(e.id)},r.a.createElement("img",{src:e.image,alt:e.title})))),r.a.createElement("div",{className:"flex w-1/2 sm:w-1/3 md:w-1/4 xl:w-1/5 px-3 mb-6"},r.a.createElement("div",{className:"flex-1 flex flex-col border border-white rounded"},t,r.a.createElement("div",{className:"p-4"},r.a.createElement(m.b,{to:b(e.id)},e.title))))}}]),t}(n.Component),M=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"renderMovie",value:function(e,t){return r.a.createElement(N,{movie:e,key:"".concat(e.id,"-").concat(t)})}},{key:"render",value:function(){var e=this.props.movies;return e?e.length<1?null:r.a.createElement("div",{className:"flex flex-wrap -mx-3 mt-4"},e.map(this.renderMovie.bind(this))):null}}]),t}(n.Component),L=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={loading:!0,movies:[],page:0,total:0,canLoad:!0},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.loadMovies()}},{key:"loadMovies",value:function(){var e=Object(k.a)(E.a.mark(function e(){var t,a,n,r,o;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,w.listPopular(this.state.page+1);case 3:if(t=e.sent){e.next=7;break}return this.setState({loading:!1}),e.abrupt("return");case 7:a=t.page,n=t.total,r=t.items,o=[],Array.prototype.push.apply(o,this.state.movies),Array.prototype.push.apply(o,r),this.setState({page:a,total:n,movies:o,loading:!1,canLoad:n>o.length});case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"renderLoadMoreButton",value:function(){var e=this.state,t=e.loading;return e.canLoad?r.a.createElement("button",{type:"button",onClick:this.loadMovies.bind(this),disabled:t,className:"btn primary"},t?"Loading...":"Load More"):r.a.createElement("span",{disabled:!0,className:"btn primary disabled"},"No More Results")}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",{className:"text-3xl font-semibold mb-2"},"Popular Movies"),r.a.createElement(M,{movies:this.state.movies}),this.renderLoadMoreButton())}}]),t}(n.Component),S=function(e){return e.id?e.id:null},B=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={loading:!0,movie:{},movieId:S(e.match.params)},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.loadMovie()}},{key:"loadMovie",value:function(){var e=Object(k.a)(E.a.mark(function e(){var t;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,w.get(this.state.movieId);case 3:if(t=e.sent){e.next=7;break}return this.setState({loading:!1,movie:{}}),e.abrupt("return");case 7:this.setState({loading:!1,movie:t});case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"renderLoading",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",{className:"text-3xl font-semibold"},"Loading"))}},{key:"renderNotFound",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",{className:"text-3xl font-semibold mb-4"},"Movie not found"),r.a.createElement(m.b,{className:"btn primary",to:"/"},"Back"))}},{key:"renderImage",value:function(e){return e.image?r.a.createElement("div",{className:"flex-1 rounded-lg overflow-hidden"},r.a.createElement("img",{src:e.image,alt:e.title})):null}},{key:"renderGenres",value:function(e){return e.genres&&Array.isArray(e.genres)?r.a.createElement("p",{className:"badges"},e.genres.map(function(e){return r.a.createElement("span",{className:"badge",key:e},e)})):null}},{key:"render",value:function(){var e=this.state,t=e.loading,a=e.movie;return t?this.renderLoading():a.id?r.a.createElement("div",{className:"flex flex-col md:flex-row mt-4"},this.renderImage(a),r.a.createElement("div",{className:"flex-1 px-0 pt-4 md:px-4 md:pt-0"},r.a.createElement(m.b,{className:"text-red-500 underline text-sm",to:"/"},"Back"),r.a.createElement("h1",{className:"text-3xl font-semibold leading-none mt-2"},a.title),r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:a.link,className:"text-sm underline"},"Website"),this.renderGenres(a),r.a.createElement("div",{className:"mt-6"},a.description))):this.renderNotFound()}}]),t}(n.Component),C=function(e){return new URLSearchParams(e.search).get("q")},R=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={loading:!0,movies:[],page:0,total:0,loaded:!1,query:C(e.location),canLoad:!0},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.loadMovies()}},{key:"loadMovies",value:function(){var e=Object(k.a)(E.a.mark(function e(){var t,a,n,r,o;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,w.search(this.state.query,this.state.page+1);case 3:if(t=e.sent){e.next=7;break}return this.setState({loading:!1,loaded:!0}),e.abrupt("return");case 7:a=t.page,n=t.total,r=t.items,o=[],Array.prototype.push.apply(o,this.state.movies),Array.prototype.push.apply(o,r),this.setState({page:a,total:n,movies:o,loading:!1,loaded:!0,canLoad:n>o.length});case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"renderTitle",value:function(){var e=this.state,t=e.loaded,a=e.total,n=e.query;return t?r.a.createElement("h1",{className:"text-3xl font-semibold mb-2"},a," movies found with ",r.a.createElement("em",null,'"',decodeURI(n),'"')):r.a.createElement("h1",{className:"text-3xl font-semibold mb-2"},"Loading")}},{key:"renderLoadMoreButton",value:function(){var e=this.state,t=e.loaded,a=e.loading,n=e.canLoad;return t?n?r.a.createElement("button",{type:"button",onClick:this.loadMovies.bind(this),disabled:a,className:"btn primary"},a?"Loading...":"Load More"):r.a.createElement("span",{disabled:!0,className:"btn primary disabled"},"No More Results"):null}},{key:"render",value:function(){var e=this.state.movies;return r.a.createElement("div",null,this.renderTitle(),this.renderLoadMoreButton(),r.a.createElement(M,{movies:e}),this.renderLoadMoreButton())}}]),t}(n.Component),I=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"h-full min-h-screen bg-gray-800 text-white p-6 pt-24"},r.a.createElement(m.a,null,r.a.createElement(y,null),r.a.createElement(p.a,{path:"/movie-list/",exact:!0,component:L}),r.a.createElement(p.a,{path:v,component:R}),r.a.createElement(p.a,{path:f,component:B})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[35,1,2]]]);
//# sourceMappingURL=main.76cc5ff0.chunk.js.map